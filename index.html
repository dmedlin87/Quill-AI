<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DraftSmith AI - Intelligent Book Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
      :root {
        /* Color System - Warm Literary Palette */
        --ink-950: #0a0908;
        --ink-900: #1a1815;
        --ink-800: #2d2a26;
        --ink-700: #3d3935;
        --ink-600: #524d47;
        --ink-500: #6b6560;
        --ink-400: #8a847d;
        --ink-300: #a9a49e;
        --ink-200: #ccc8c3;
        --ink-100: #e8e6e3;
        --ink-50: #f6f5f3;
        
        /* Parchment - Warm whites */
        --parchment-50: #fdfcfa;
        --parchment-100: #faf8f5;
        --parchment-200: #f5f2ed;
        
        /* Accent - Aged Gold / Magic */
        --magic-500: #c9a227;
        --magic-400: #dbb635;
        --magic-300: #e8c84d;
        --magic-200: #f2dc8a;
        --magic-100: #faf3d4;
        --magic-glow: rgba(201, 162, 39, 0.4);
        
        /* Semantic - Muted, sophisticated */
        --error-500: #b54248;
        --error-100: #fdeeed;
        --success-500: #4a8f6d;
        --success-100: #e8f5ee;
        --warning-500: #b8863b;
        --warning-100: #fdf5e9;
        
        /* Typography Scale (1.25 ratio) */
        --text-xs: 0.75rem;
        --text-sm: 0.875rem;
        --text-base: 1rem;
        --text-lg: 1.25rem;
        --text-xl: 1.563rem;
        --text-2xl: 1.953rem;
        --text-3xl: 2.441rem;
        --text-4xl: 3.052rem;
        
        /* Spacing Scale (8px base) */
        --space-1: 0.25rem;
        --space-2: 0.5rem;
        --space-3: 0.75rem;
        --space-4: 1rem;
        --space-5: 1.25rem;
        --space-6: 1.5rem;
        --space-8: 2rem;
        --space-10: 2.5rem;
        --space-12: 3rem;
        --space-16: 4rem;
        --space-20: 5rem;
        
        /* Elevation System */
        --shadow-sm: 0 1px 2px rgba(10, 9, 8, 0.04);
        --shadow-md: 0 2px 4px rgba(10, 9, 8, 0.04), 0 4px 8px rgba(10, 9, 8, 0.06);
        --shadow-lg: 0 4px 8px rgba(10, 9, 8, 0.04), 0 8px 16px rgba(10, 9, 8, 0.06), 0 16px 32px rgba(10, 9, 8, 0.08);
        --shadow-xl: 0 8px 16px rgba(10, 9, 8, 0.06), 0 16px 32px rgba(10, 9, 8, 0.08), 0 32px 64px rgba(10, 9, 8, 0.12);
        --shadow-magic: 0 0 0 1px var(--magic-200), 0 4px 16px var(--magic-glow), 0 8px 32px rgba(201, 162, 39, 0.2);
        
        /* Radii */
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --radius-xl: 16px;
        --radius-full: 9999px;
        
        /* Transitions */
        --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
        --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
        --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
        --duration-fast: 150ms;
        --duration-normal: 250ms;
        --duration-slow: 400ms;
        --duration-slower: 600ms;
      }

      body {
        font-family: 'DM Sans', system-ui, sans-serif;
        background-color: var(--parchment-100);
        color: var(--ink-800);
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
      }

      h1, h2, h3, h4, h5, h6, .font-serif {
        font-family: 'Crimson Pro', serif;
      }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: var(--ink-200);
        border-radius: var(--radius-full);
      }
      ::-webkit-scrollbar-thumb:hover {
        background: var(--ink-300);
      }

      /* Animations */
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      @keyframes slideUp { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
      @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
      @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      @keyframes sparkle {
        0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
        50% { opacity: 1; transform: scale(1) rotate(180deg); }
      }
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-4px); }
      }

      .animate-fade-in { animation: fadeIn var(--duration-normal) var(--ease-out-expo); }
      .animate-slide-up { animation: slideUp var(--duration-slow) var(--ease-out-expo); }
      .animate-scale-in { animation: scaleIn var(--duration-normal) var(--ease-out-back); }

      /* Tiptap Overrides */
      .ProseMirror {
        outline: none;
        min-height: 60vh;
        font-family: 'Crimson Pro', serif;
        font-size: 1.125rem;
        line-height: 2;
        color: var(--ink-800);
        white-space: pre-wrap;
      }
      .ProseMirror p { margin-bottom: 1em; }
      .ProseMirror-selectednode { outline: 2px solid var(--magic-400); }
      
      /* Utilities */
      .paper-shadow { box-shadow: var(--shadow-lg); }
    </style>
  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react": "https://esm.sh/react@18.3.1",
    "react/": "https://esm.sh/react@18.3.1/",
    "react-dom": "https://esm.sh/react-dom@18.3.1",
    "react-dom/": "https://esm.sh/react-dom@18.3.1/",
    "zustand": "https://esm.sh/zustand@4.5.2?external=react",
    "jspdf": "https://esm.sh/jspdf@2.5.1",
    "dexie": "https://esm.sh/dexie@3.2.4",
    "diff": "https://esm.sh/diff@5.2.0",
    "diff-match-patch": "https://esm.sh/diff-match-patch@1.0.5",
    "@tiptap/core": "https://esm.sh/@tiptap/core@2.2.4?external=react,react-dom",
    "@tiptap/starter-kit": "https://esm.sh/@tiptap/starter-kit@2.2.4?external=react,react-dom",
    "@tiptap/extension-highlight": "https://esm.sh/@tiptap/extension-highlight@2.2.4?external=react,react-dom",
    "@tiptap/react": "https://esm.sh/@tiptap/react@2.2.4?external=react,react-dom",
    "tiptap-markdown": "https://esm.sh/tiptap-markdown@0.8.10?external=react,react-dom",
    "prosemirror-markdown": "https://esm.sh/prosemirror-markdown@1.13.0",
    "prosemirror-state": "https://esm.sh/prosemirror-state@1.4.3",
    "prosemirror-view": "https://esm.sh/prosemirror-view@1.32.7",
    "prosemirror-model": "https://esm.sh/prosemirror-model@1.19.4",
    "prosemirror-commands": "https://esm.sh/prosemirror-commands@1.5.2",
    "prosemirror-schema-list": "https://esm.sh/prosemirror-schema-list@1.3.0",
    "prosemirror-transform": "https://esm.sh/prosemirror-transform@1.8.0",
    "prosemirror-history": "https://esm.sh/prosemirror-history@1.3.2"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>