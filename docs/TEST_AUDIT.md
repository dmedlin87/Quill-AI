# Test Gap Audit

> ⚠️ DO NOT EDIT BY HAND - auto-generated by `scripts/audit-test-gaps.mjs`  
> Last updated: 2025-11-30 22:07:48.000 UTC

## Summary

| Metric | Count |
|--------|-------|
| Source files scanned | 131 |
| Source files with tests | 86 (65.6%) |
| Source files missing tests | 45 |
| Potentially stale test files | 6 |
| Large files with low coverage | 0 |

## Source Files Missing Tests

### High Priority (>100 lines)

| File | Lines | Coverage |
|------|-------|----------|
| `features/agent/components/ProactiveSuggestions.tsx` | 171 | n/a |
| `features/agent/hooks/useAgentOrchestrator.ts` | 402 | n/a |
| `features/agent/hooks/useMemoryIntelligence.ts` | 233 | n/a |
| `features/agent/hooks/useProactiveSuggestions.ts` | 165 | n/a |
| `features/editor/hooks/useChunkIndex.ts` | 340 | n/a |
| `features/editor/hooks/useEditorBranching.ts` | 115 | n/a |
| `features/editor/hooks/useTiptapSync.ts` | 219 | n/a |
| `features/layout/NavigationRail.tsx` | 153 | n/a |
| `features/layout/store/useLayoutStore.ts` | 158 | n/a |
| `features/layout/ToolsPanel.tsx` | 145 | n/a |
| `features/shared/components/AccessibleTooltip.tsx` | 148 | n/a |
| `features/shared/components/Icons.tsx` | 141 | n/a |
| `features/shared/context/AppBrainContext.tsx` | 573 | n/a |
| `features/shared/hooks/useManuscriptIntelligence.ts` | 476 | n/a |
| `services/appBrain/contextBuilder.ts` | 436 | n/a |
| `services/appBrain/eventBus.ts` | 170 | n/a |
| `services/appBrain/types.ts` | 213 | n/a |
| `services/core/AgentController.ts` | 499 | n/a |
| `services/gemini/agentTools.ts` | 742 | n/a |
| `services/gemini/toolExecutor.ts` | 142 | n/a |

*...and 15 more*

### All Missing (45 files)

<details>
<summary>Click to expand full list</summary>

| File | Lines | Coverage |
|------|-------|----------|
| `features/agent/components/ProactiveSuggestions.tsx` | 171 | n/a |
| `features/agent/hooks/useAgentOrchestrator.ts` | 402 | n/a |
| `features/agent/hooks/useMemoryIntelligence.ts` | 233 | n/a |
| `features/agent/hooks/useProactiveSuggestions.ts` | 165 | n/a |
| `features/analysis/components/IssueCard.tsx` | 74 | n/a |
| `features/analysis/components/ScoreCard.tsx` | 43 | n/a |
| `features/editor/hooks/useChunkIndex.ts` | 340 | n/a |
| `features/editor/hooks/useEditorBranching.ts` | 115 | n/a |
| `features/editor/hooks/useTiptapSync.ts` | 219 | n/a |
| `features/layout/EditorHeader.tsx` | 48 | n/a |
| `features/layout/NavigationRail.tsx` | 153 | n/a |
| `features/layout/store/useLayoutStore.ts` | 158 | n/a |
| `features/layout/ToolsPanel.tsx` | 145 | n/a |
| `features/layout/ZenModeOverlay.tsx` | 70 | n/a |
| `features/settings/components/BudgetSelector.tsx` | 36 | n/a |
| `features/shared/components/AccessibleTooltip.tsx` | 148 | n/a |
| `features/shared/components/Icons.tsx` | 141 | n/a |
| `features/shared/context/AppBrainContext.tsx` | 573 | n/a |
| `features/shared/hooks/useManuscriptIntelligence.ts` | 476 | n/a |
| `services/appBrain/contextBuilder.ts` | 436 | n/a |
| `services/appBrain/eventBus.ts` | 170 | n/a |
| `services/appBrain/types.ts` | 213 | n/a |
| `services/core/AgentController.ts` | 499 | n/a |
| `services/gemini/agentTools.ts` | 742 | n/a |
| `services/gemini/errors.ts` | 65 | n/a |
| `services/gemini/toolExecutor.ts` | 142 | n/a |
| `services/intelligence/cache.ts` | 347 | n/a |
| `services/intelligence/chunkIndex.ts` | 647 | n/a |
| `services/intelligence/chunkManager.ts` | 625 | n/a |
| `services/intelligence/contextBuilder.ts` | 409 | n/a |
| `services/intelligence/contradictionDetector.ts` | 367 | n/a |
| `services/intelligence/deltaTracker.ts` | 439 | n/a |
| `services/intelligence/heatmapBuilder.ts` | 363 | n/a |
| `services/intelligence/narrativeArc.ts` | 407 | n/a |
| `services/intelligence/timelineTracker.ts` | 419 | n/a |
| `services/intelligence/voiceProfiler.ts` | 220 | n/a |
| `services/intelligence/worker.ts` | 252 | n/a |
| `services/memory/autoObserver.ts` | 495 | n/a |
| `services/memory/sessionTracker.ts` | 201 | n/a |
| `services/memory/types.ts` | 163 | n/a |
| `types/critiqueSettings.ts` | 41 | n/a |
| `types/experienceSettings.ts` | 77 | n/a |
| `types/export.ts` | 38 | n/a |
| `types/intelligence.ts` | 545 | n/a |
| `types/schema.ts` | 95 | n/a |

</details>

## Potentially Stale Test Files

These test files don't have an obvious matching source file. They may be:

- Integration tests (expected)
- Tests for deleted code (should be removed)
- Tests with non-matching names (should be renamed)

| Test File | Expected Source |
|-----------|-----------------|
| `tests/barrel-exports.test.ts` | `*/barrel-exports.ts(x)` |
| `tests/components/App.test.tsx` | `*/App.ts(x)` |
| `tests/config/index.test.ts` | `*/index.ts(x)` |
| `tests/features/index.test.ts` | `*/index.ts(x)` |
| `tests/index.test.tsx` | `*/index.ts(x)` |
| `tests/public/audio-processor.test.ts` | `*/audio-processor.ts(x)` |

## How to Use This Report

1. **High Priority Missing Tests**: Focus on files >100 lines first
2. **Stale Tests**: Review and remove tests for deleted code
3. **Large Low-Coverage Files**: These are your biggest risk areas

### Running the Audit

```bash
npm run test:audit
```

---

*Generated by [Quill AI Test Health Suite](./scripts/audit-test-gaps.mjs)*
