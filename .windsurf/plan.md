## Plan: UsageBadge refactor & tests

1. Review UsageBadge.tsx and existing tests for typing gaps, memo/callback overuse, and potential leaks.
2. Refactor UsageBadge.tsx with stricter typing, memo/callback hygiene, and add JSDoc for complex logic.
3. Update/add tests for the refactor and run relevant component tests.
4. Run relevant tests and summarize changes.

## Plan: AppBrainContext tests

- [ ] Review AppBrainContext.test.tsx for smells and missing coverage
- [ ] Refactor mocks/types to strict TS + React 18 patterns, add JSDoc where helpful
- [ ] Add/adjust tests as needed and run relevant test suite
