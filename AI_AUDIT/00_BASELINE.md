# Baseline (2025-12-12)

## Scope

Ground-truth baseline generated using Quill-AI’s existing test/coverage tooling.

Constraints followed:

- No refactors/fixes performed.
- Only read what was needed to run and capture baseline artifacts.

## README.md (Run Locally + Testing)

Referenced:

- `README.md` — “Run Locally” and “Testing” sections (see lines 20-38 in repo root `README.md`).

## Commands executed (with captured outputs)

- `npm run test:full`
  - Result: FAIL (non-zero)
  - Runtime: `00:00:50.2728462`
  - Failure reason: branch coverage below global threshold
  - Notes:
    - `test:full` is defined as `npm run test:coverage && npm run test:audit` (see `package.json`).
    - Because `test:coverage` fails, `test:audit` does not run as part of `test:full`.

- `npm run test:coverage`
  - Result: FAIL (non-zero)
  - Runtime: `00:00:49.6028782`
  - Captured log: `AI_AUDIT/logs/test_coverage.log`
  - First failure (exact line):
    - `ERROR: Coverage for branches (87.96%) does not meet global threshold (90%)`

- `npm run test:status`
  - Result: PASS
  - Runtime: `00:00:00.4463453`
  - Captured log: `AI_AUDIT/logs/test_status.log`

- `npm run test:audit`
  - Result: PASS
  - Runtime: `00:00:00.4851484`
  - Captured log: `AI_AUDIT/logs/test_audit.log`

## Test results (from generated reports)

From `docs/TEST_COVERAGE.md` (auto-generated by `scripts/generate-test-status.mjs`):

- Tests:
  - Total: `4428`
  - Passed: `4427`
  - Failed: `0`
  - Pending: `1`
- Coverage summary:
  - Statements: `95.95%`
  - Branches: `87.96%` (target `90%` — below threshold)
  - Functions: `95.56%`
  - Lines: `96.81%`

### Failures / first failing signal

- There were **no failing test stack traces** in this baseline run.
- The run fails due to **coverage threshold enforcement**:
  - `ERROR: Coverage for branches (87.96%) does not meet global threshold (90%)`
  - Source: `AI_AUDIT/logs/test_coverage.log` (near the end of file)

## Test gap audit summary (from generated report)

From `docs/TEST_AUDIT.md` (auto-generated by `scripts/audit-test-gaps.mjs`):

- Source files scanned: `233`
- Source files with tests: `232` (99.6%)
- Source files missing tests: `1`
- Potentially stale test files: `21`
- Large files with low coverage: `0`

Missing test file called out:

- `features/analysis/components/ShadowReaderPanel.tsx` (166 lines)

## Generated / updated artifacts

Generated/updated by the commands above:

- `AI_AUDIT/logs/test_coverage.log`
- `AI_AUDIT/logs/test_status.log`
- `AI_AUDIT/logs/test_audit.log`
- `docs/TEST_COVERAGE.md` (generated by `npm run test:status`)
- `docs/TEST_AUDIT.md` (generated by `npm run test:audit`)
- `coverage/coverage-summary.json`
- `coverage/coverage-final.json`
- `coverage/vitest-report.json`
- `coverage/index.html` (HTML report entrypoint)
- `coverage/history.json` (coverage history snapshot)
- `README.md` (badges updated by `npm run test:status`)
